# 42. 接雨水
给定 n 个非负整数表示每个宽度为 1 的柱子的高度图，计算按此排列的柱子，下雨之后能接多少雨水。

 

示例 1：



输入：height = [0,1,0,2,1,0,1,3,2,1,2,1]
输出：6
解释：上面是由数组 [0,1,0,2,1,0,1,3,2,1,2,1] 表示的高度图，在这种情况下，可以接 6 个单位的雨水（蓝色部分表示雨水）。 
示例 2：

输入：height = [4,2,0,3,2,5]
输出：9
 

提示：

n == height.length
0 <= n <= 3 * 104
0 <= height[i] <= 105

# 用例
```
[0,1,0,2,1,0,1,3,2,1,2,1]
[4,2,0,3,2,5]
```

# 题解

## 动态规划 不好用

dp[i] 为前i个 接水能力

dp[0] = 0
dp[1] = 0
dp[2] = 

## 贪心 不好用

last 为前一个最高点的下标

当前h[i] >= h[last]，可形成容器

for(j = last+1) ans += (last-h[j])
last = i

## 模拟 超时

O(n*h)

遍历高度

如果前后有挡板，ans++

## 暴力 超时

O(n2)

对于i点，找出它的左最高和右最高，得到当前点能累计的水量，然后遍历下一个i

## 动态编程

O(n*3) = O(n)

先后遍历得到max_left数组和max_right数组

再遍历得到ans

## 栈

对高度逐个入栈，如果当前高度大于栈顶高度，弹出并计算水量

比如

4 2 0 3 4

top记录上一个s.top

s.top为当前s.top

计算水量是从底部开始累加的，

## 双指针

当h[l] 小于 h[r]时
可知，当l变小时，可以加水

同样的，当h[r] 小于等于 h[l]时
当r变小，可以加水


比如

3 2 1 2 3

lmax = h[0]=3,rmax = h[4] = 3
l =0 
l=1 累加3(rmax)-2
l=2 累加3(rmax)-1
l=3 累加3(rmax)-2



